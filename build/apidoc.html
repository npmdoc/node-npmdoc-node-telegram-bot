<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/depoio/node-telegram-bot#readme"

    >node-telegram-bot (v0.1.9)</a>
</h1>
<h4>Telegram Bot API Wrapper for nodejs</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-telegram-bot">module node-telegram-bot</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.node-telegram-bot">
            function <span class="apidocSignatureSpan"></span>node-telegram-bot
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot">
            function <span class="apidocSignatureSpan">node-telegram-bot.</span>Bot
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.super_">
            function <span class="apidocSignatureSpan">node-telegram-bot.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">node-telegram-bot.</span>Bot.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-telegram-bot.Bot">module node-telegram-bot.Bot</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.Bot">
            function <span class="apidocSignatureSpan">node-telegram-bot.</span>Bot
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.super_">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-telegram-bot.Bot.prototype">module node-telegram-bot.Bot.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype._get">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>_get
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype._multipart">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>_multipart
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype._poll">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>_poll
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype._setWebhook">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>_setWebhook
            <span class="apidocSignatureSpan">(webhook)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.enableAnalytics">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>enableAnalytics
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.forwardMessage">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>forwardMessage
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.getFile">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>getFile
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.getMe">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>getMe
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.getUserProfilePhotos">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>getUserProfilePhotos
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.sendAudio">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendAudio
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.sendChatAction">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendChatAction
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.sendDocument">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendDocument
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.sendLocation">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendLocation
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.sendMessage">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendMessage
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.sendPhoto">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendPhoto
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.sendSticker">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendSticker
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.sendVideo">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendVideo
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.start">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>start
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-telegram-bot.Bot.prototype.stop">
            function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>stop
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-telegram-bot" id="apidoc.module.node-telegram-bot">module node-telegram-bot</a></h1>


    <h2>
        <a href="#apidoc.element.node-telegram-bot.node-telegram-bot" id="apidoc.element.node-telegram-bot.node-telegram-bot">
        function <span class="apidocSignatureSpan"></span>node-telegram-bot
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Bot(options) {
  this.base_url = &#x27;https://api.telegram.org/&#x27;;
  this.id = &#x27;&#x27;;
  this.first_name = &#x27;&#x27;;
  this.username = &#x27;&#x27;;
  this.token = options.token;
  this.offset = options.offset ? options.offset : 0;
  this.interval = options.interval ? options.interval : 500;
  this.webhook = options.webhook ? options.webhook : false;
  this.parseCommand = options.parseCommand ? options.parseCommand : true;
  this.maxAttempts = options.maxAttempts ? options.maxAttempts : 5;
  this.polling = false;
  this.pollingRequest = null;
  this.analytics = null;
  this.timeout = options.timeout ? options.timeout : 60; //specify in seconds
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot" id="apidoc.element.node-telegram-bot.Bot">
        function <span class="apidocSignatureSpan">node-telegram-bot.</span>Bot
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Bot(options) {
  this.base_url = &#x27;https://api.telegram.org/&#x27;;
  this.id = &#x27;&#x27;;
  this.first_name = &#x27;&#x27;;
  this.username = &#x27;&#x27;;
  this.token = options.token;
  this.offset = options.offset ? options.offset : 0;
  this.interval = options.interval ? options.interval : 500;
  this.webhook = options.webhook ? options.webhook : false;
  this.parseCommand = options.parseCommand ? options.parseCommand : true;
  this.maxAttempts = options.maxAttempts ? options.maxAttempts : 5;
  this.polling = false;
  this.pollingRequest = null;
  this.analytics = null;
  this.timeout = options.timeout ? options.timeout : 60; //specify in seconds
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.super_" id="apidoc.element.node-telegram-bot.super_">
        function <span class="apidocSignatureSpan">node-telegram-bot.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-telegram-bot.Bot" id="apidoc.module.node-telegram-bot.Bot">module node-telegram-bot.Bot</a></h1>


    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.Bot" id="apidoc.element.node-telegram-bot.Bot.Bot">
        function <span class="apidocSignatureSpan">node-telegram-bot.</span>Bot
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Bot(options) {
  this.base_url = &#x27;https://api.telegram.org/&#x27;;
  this.id = &#x27;&#x27;;
  this.first_name = &#x27;&#x27;;
  this.username = &#x27;&#x27;;
  this.token = options.token;
  this.offset = options.offset ? options.offset : 0;
  this.interval = options.interval ? options.interval : 500;
  this.webhook = options.webhook ? options.webhook : false;
  this.parseCommand = options.parseCommand ? options.parseCommand : true;
  this.maxAttempts = options.maxAttempts ? options.maxAttempts : 5;
  this.polling = false;
  this.pollingRequest = null;
  this.analytics = null;
  this.timeout = options.timeout ? options.timeout : 60; //specify in seconds
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.super_" id="apidoc.element.node-telegram-bot.Bot.super_">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-telegram-bot.Bot.prototype" id="apidoc.module.node-telegram-bot.Bot.prototype">module node-telegram-bot.Bot.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype._get" id="apidoc.element.node-telegram-bot.Bot.prototype._get">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>_get
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_get = function (options, callback) {
  var self = this;
  var url = this.base_url + &#x27;bot&#x27; + this.token + &#x27;/&#x27; + options.method;

  if (options.params) {
    url += &#x27;?&#x27; + qs.stringify(options.params);
  }

  var attempt = 1;

  function retry() {
    request.get({
      url: url,
      json: true
    }, function (err, res, body) {
      if (err) {
        if (err.code === &#x27;ENOTFOUND&#x27; &#x26;&#x26; attempt &#x3c; self.maxAttempts) {
        ++attempt;
        self.emit(&#x27;retry&#x27;, attempt);
        retry();
        } else {
          callback(err);
        }
      } else {
        callback(null, body);
      }
    });
  }

  retry();

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype._multipart" id="apidoc.element.node-telegram-bot.Bot.prototype._multipart">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>_multipart
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_multipart = function (options, callback) {
  var self = this;
  var url = this.base_url + &#x27;bot&#x27; + this.token + &#x27;/&#x27; + options.method;

  var attempt = 1;

  function retry() {
    var req = request.post(url, function (err, res, body) {
      if (err) {
        if (err.code === &#x27;ENOTFOUND&#x27; &#x26;&#x26; attempt &#x3c; self.maxAttempts) {
          ++attempt;
          self.emit(&#x27;retry&#x27;, attempt);
          retry();
        } else {
          callback(err);
        }
      } else {
        var contentType = res.headers[&#x27;content-type&#x27;];

        if (contentType.indexOf(&#x27;application/json&#x27;) &#x3e;= 0) {
          try {
            body = JSON.parse(body);
          } catch (e) {
            callback(e, body);
          }
        }

        callback(null, body);
      }
    });

    var form = req.form()
      , filename
      , type
      , stream
      , contentType;

    var arr = Object.keys(options.files);

    if (arr.indexOf(&#x27;stream&#x27;) &#x3e; -1) {
      type = options.files[&#x27;type&#x27;];
      filename = options.files[&#x27;filename&#x27;];
      stream = options.files[&#x27;stream&#x27;];
      contentType = options.files[&#x27;contentType&#x27;];
    } else {
      arr.forEach(function (key) {
        var file = options.files[key];
        type = key;
        filename = path.basename(file);
        stream = fs.createReadStream(file);
        contentType = mime.lookup(file);
      })
    }

    form.append(type, stream, {
      filename: filename,
      contentType: contentType
    });

    Object.keys(options.params).forEach(function (key) {
      if (options.params[key]) {
        form.append(key, options.params[key]);
      }
    });
  }

  retry();

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype._poll" id="apidoc.element.node-telegram-bot.Bot.prototype._poll">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>_poll
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_poll = function () {
  var self = this;
  var url = self.base_url + &#x27;bot&#x27; + self.token + &#x27;/getUpdates?timeout=&#x27; + self.timeout + &#x27;&#x26;offset=&#x27; + self.offset;

  self.pollingRequest = null;
  if (self.polling) {
    debug(&#x22;Poll&#x22;);

    self.pollingRequest = request.get({
      url: url,
      timeout: self.timeout * 1000,
      json: true
    }, function (err, res, body) {

      if (err &#x26;&#x26; err.code !== &#x27;ETIMEDOUT&#x27;) {
        self.emit(&#x27;error&#x27;, err);
      } else if (res &#x26;&#x26; res.statusCode === 200) {
        if (body.ok) {
          body.result.forEach(function (msg) {
            if (msg.update_id &#x3e;= self.offset) {
              self.offset = msg.update_id + 1;

              if (self.parseCommand) {
                if (msg.message.text &#x26;&#x26; msg.message.text.charAt(0) === &#x27;/&#x27;) {
<span class="apidocCodeCommentSpan">                  /**
                   * Split the message on space and @
                   * Zero part = complete message
                   * First part = command with leading /
                   * Third part = target or empty &#x22;&#x22;
                   * Fourth part = arguments or empty &#x22;&#x22;
                   */
</span>                  var messageParts = msg.message.text.match(/([^@ ]*)([^ ]*)[ ]?(.*)/);

                  // Filter everything not alphaNum out of the command
                  var command = messageParts[1].replace(/[^a-zA-Z0-9 ]/g, &#x22;&#x22;);
                  // Target incl @ sign or null
                  var target = (messageParts[2] !== &#x22;&#x22; ? messageParts[2]: null);
                  // Optional arguments or null
                  var args = (messageParts[3] !== &#x22;&#x22; ? messageParts[3].split(&#x27; &#x27;): null);

                  self.emit(command, msg.message, args, target);
                }
              }

              if (self.analytics !== null) {
                self.analytics.track(msg.message);
              }

              self.emit(&#x27;message&#x27;, msg.message);
            }
          });
        }

        if (self.polling) {
            self._poll();
        }

      } else if(res &#x26;&#x26; res.hasOwnProperty(&#x27;statusCode&#x27;) &#x26;&#x26; res.statusCode === 401) {
        self.emit(&#x27;error&#x27;, new Error(&#x27;Invalid token.&#x27;));
      } else if(res &#x26;&#x26; res.hasOwnProperty(&#x27;statusCode&#x27;) &#x26;&#x26; res.statusCode === 409) {
        self.emit(&#x27;error&#x27;, new Error(&#x27;Duplicate token.&#x27;));
      } else if(res &#x26;&#x26; res.hasOwnProperty(&#x27;statusCode&#x27;) &#x26;&#x26; res.statusCode === 502) {
        self.emit(&#x27;error&#x27;, new Error(&#x27;Gateway error.&#x27;));
      } else if(self.pollingRequest &#x26;&#x26; !self.pollingRequest._aborted) { //Skip error throwing, this is an abort due to stopping
        self.emit(&#x27;error&#x27;, new Error(util.format(&#x27;Unknown error&#x27;)));
      }
    });
  }

  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype._setWebhook" id="apidoc.element.node-telegram-bot.Bot.prototype._setWebhook">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>_setWebhook
        <span class="apidocSignatureSpan">(webhook)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_setWebhook = function (webhook) {
  var self = this;
  var url = this.base_url + &#x27;bot&#x27; + this.token + &#x27;/setWebhook&#x27; + &#x22;?&#x22; + qs.stringify({url: webhook});

  request.get({
    url: url,
    json: true
  }, function (err, res, body) {
    if (!err &#x26;&#x26; res &#x26;&#x26; res.statusCode === 200) {
      if (body.ok) {
      	debug(&#x22;Set webhook to &#x22; + self.webhook);
			} else {
				debug(&#x22;Body not ok&#x22;);
				debug(body);
			}
    } else if(res &#x26;&#x26; res.hasOwnProperty(&#x27;statusCode&#x27;) &#x26;&#x26; res.statusCode === 401){
      debug(err);
      debug(&#x22;Failed to set webhook with code&#x22; + res.statusCode);
    } else {
      debug(err);
      debug(&#x22;Failed to set webhook with unknown error&#x22;);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.enableAnalytics" id="apidoc.element.node-telegram-bot.Bot.prototype.enableAnalytics">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>enableAnalytics
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enableAnalytics = function (token) {
  this.analytics = botanio(token);

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## How to use Botan.io analytics:
```javascript

var bot = new Bot({
  token: &#x27;Telegram token&#x27;
})
.<span class="apidocCodeKeywordSpan">enableAnalytics</span>(&#x27;Botan.io token&#x27;)
.on(&#x27;message&#x27;, function (message) {
  console.log(message);
})
.start();

```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.forwardMessage" id="apidoc.element.node-telegram-bot.Bot.prototype.forwardMessage">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>forwardMessage
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forwardMessage = function (options, callback) {
  var self = this
    , deferred = Q.defer();

  this._get({
    method: &#x27;forwardMessage&#x27;,
    params: {
      chat_id: options.chat_id,
      from_chat_id: options.from_chat_id,
      message_id: options.message_id
    }
  }, function (err, res) {
    if (err) {
      return deferred.reject(err);
    }

    if (res.ok) {
      deferred.resolve(res.result);
    } else {
      deferred.reject(res);
    }
  });

  return deferred.promise.nodeify(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.getFile" id="apidoc.element.node-telegram-bot.Bot.prototype.getFile">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>getFile
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFile = function (options, callback) {
  var self = this
    , deferred = Q.defer();

  this._get({
    method: &#x27;getFile&#x27;,
    params: {
      file_id: options.file_id
    }
  }, function (err, res) {
    if (err) {
      return deferred.reject(err);
    }

    if (res.ok) {
      var filename = path.basename(res.result.file_path);
      if (options.dir) {
        var filepath  = path.join(options.dir, filename);
        var url = self.base_url + &#x27;file/bot&#x27; + self.token + &#x27;/&#x27; + res.result.file_path;
        var destination = fs.createWriteStream(filepath);
        request(url)
        .pipe(destination)
        .on(&#x27;finish&#x27;, function () {
          deferred.resolve({
            destination: filepath,
            url: url
          });
        })
        .on(&#x27;error&#x27;, function(error){
          deferred.reject(error);
        });
      } else {
        deferred.resolve({
          url: url
        });
      }
    } else {
      deferred.reject(res);
    }
  });

  return deferred.promise.nodeify(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.getMe" id="apidoc.element.node-telegram-bot.Bot.prototype.getMe">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>getMe
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getMe = function (callback) {
  var self = this
    , deferred = Q.defer();

  this._get({ method: &#x27;getMe&#x27; }, function (err, res) {
    if (err) {
      return deferred.reject(err);
    }

    if (res.ok) {
      self.id = res.result.id;
      self.first_name = res.result.first_name;
      self.username = res.result.username;

      deferred.resolve(res.result);
    } else {
      deferred.reject(res);
    }
  });

  return deferred.promise.nodeify(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.getUserProfilePhotos" id="apidoc.element.node-telegram-bot.Bot.prototype.getUserProfilePhotos">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>getUserProfilePhotos
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getUserProfilePhotos = function (options, callback) {
  var self = this
    , deferred = Q.defer();

  this._get({
    method: &#x27;getUserProfilePhotos&#x27;,
    params: {
      user_id: options.user_id,
      offset: options.offset,
      limit: options.limit
    }
   }, function (err, res) {
    if (err) {
      return deferred.reject(err);
    }

    if (res.ok) {
      deferred.resolve(res.result);
    } else {
      deferred.reject(res);
    }
  });

  return deferred.promise.nodeify(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.sendAudio" id="apidoc.element.node-telegram-bot.Bot.prototype.sendAudio">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendAudio
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendAudio = function (options, callback) {
  var self = this
    , deferred = Q.defer();

  if (options.file_id) {
    this._get({
      method: &#x27;sendAudio&#x27;,
      params: {
        chat_id: options.chat_id,
        audio: options.file_id,
        reply_to_message_id: options.reply_to_message_id,
        reply_markup: JSON.stringify(options.reply_markup)
      }
    }, function (err, res) {
      if (err) {
        return deferred.reject(err);
      }

      if (res.ok) {
        deferred.resolve(res.result);
      } else {
        deferred.reject(res);
      }
    });
  } else {
    var files;
    if (options.files.stream) {
      files = {
        type: &#x27;audio&#x27;,
        filename: options.files.filename,
        contentType: options.files.contentType,
        stream: options.files.stream
      }
    } else if (mime.lookup(options.files.audio) !== &#x27;audio/ogg&#x27;) {
      return Q.reject(new Error(&#x27;Invalid file type&#x27;))
      .nodeify(callback);
    } else {
      files = {
        audio: options.files.audio
      }
    }

    this._multipart({
      method: &#x27;sendAudio&#x27;,
      params: {
        chat_id: options.chat_id,
        reply_to_message_id: options.reply_to_message_id,
        reply_markup: JSON.stringify(options.reply_markup)
      },
      files: files
    }, function (err, res) {
      if (err) {
        return deferred.reject(err);
      }

      if (res.ok) {
        deferred.resolve(res.result);
      } else {
        deferred.reject(res);
      }
    });
  }

  return deferred.promise.nodeify(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.sendChatAction" id="apidoc.element.node-telegram-bot.Bot.prototype.sendChatAction">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendChatAction
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendChatAction = function (options, callback) {
  var self = this
    , deferred = Q.defer();

  this._get({
    method: &#x27;sendChatAction&#x27;,
    params: {
      chat_id: options.chat_id,
      action: options.action
    }
  }, function (err, res) {
    if (err) {
      return deferred.reject(err);
    }

    if (res.ok) {
      deferred.resolve(res.result);
    } else {
      deferred.reject(res);
    }
  });

  return deferred.promise.nodeify(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.sendDocument" id="apidoc.element.node-telegram-bot.Bot.prototype.sendDocument">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendDocument
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendDocument = function (options, callback) {
  var self = this
    , deferred = Q.defer();

  if (options.file_id) {
    this._get({
      method: &#x27;sendDocument&#x27;,
      params: {
        chat_id: options.chat_id,
        document: options.file_id,
        reply_to_message_id: options.reply_to_message_id,
        reply_markup: JSON.stringify(options.reply_markup)
      }
    }, function (err, res) {
      if (err) {
        return deferred.reject(err);
      }

      if (res.ok) {
        deferred.resolve(res.result);
      } else {
        deferred.reject(res);
      }
    });
  } else {
    var files;
    if (options.files.stream) {
      files = {
        type: &#x27;document&#x27;,
        filename: options.files.filename,
        contentType: options.files.contentType,
        stream: options.files.stream
      }
    } else {
      files = {
        document: options.files.document
      }
    }

    this._multipart({
      method: &#x27;sendDocument&#x27;,
      params: {
        chat_id: options.chat_id,
        reply_to_message_id: options.reply_to_message_id,
        reply_markup: JSON.stringify(options.reply_markup)
      },
      files: files
    }, function (err, res) {
      if (err) {
        return deferred.reject(err);
      }

      if (res.ok) {
        deferred.resolve(res.result);
      } else {
        deferred.reject(res);
      }
    });
  }

  return deferred.promise.nodeify(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.sendLocation" id="apidoc.element.node-telegram-bot.Bot.prototype.sendLocation">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendLocation
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendLocation = function (options, callback) {
  var self = this
    , deferred = Q.defer();

  this._get({
    method: &#x27;sendLocation&#x27;,
    params: {
      chat_id: options.chat_id,
      latitude: options.latitude,
      longitude: options.longitude,
      reply_to_message_id: options.reply_to_message_id,
      reply_markup: JSON.stringify(options.reply_markup)
    }
  }, function (err, res) {
    if (err) {
      return deferred.reject(err);
    }

    if (res.ok) {
      deferred.resolve(res.result);
    } else {
      deferred.reject(res);
    }
  });

  return deferred.promise.nodeify(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.sendMessage" id="apidoc.element.node-telegram-bot.Bot.prototype.sendMessage">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendMessage
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendMessage = function (options, callback) {
  var self = this
    , deferred = Q.defer();

  this._get({
    method: &#x27;sendMessage&#x27;,
    params: {
      chat_id: options.chat_id,
      text: options.text,
      parse_mode: options.parse_mode,
      disable_web_page_preview: options.disable_web_page_preview,
      reply_to_message_id: options.reply_to_message_id,
      reply_markup: JSON.stringify(options.reply_markup)
    }
  }, function (err, res) {
    if (err) {
      return deferred.reject(err);
    }

    if (res.ok) {
      deferred.resolve(res.result);
    } else {
      deferred.reject(res);
    }
  });

  return deferred.promise.nodeify(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.sendPhoto" id="apidoc.element.node-telegram-bot.Bot.prototype.sendPhoto">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendPhoto
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendPhoto = function (options, callback) {
  var self = this
    , deferred = Q.defer();

  if (options.file_id) {
    this._get({
      method: &#x27;sendPhoto&#x27;,
      params: {
        chat_id: options.chat_id,
        caption: options.caption,
        photo: options.file_id,
        reply_to_message_id: options.reply_to_message_id,
        reply_markup: JSON.stringify(options.reply_markup)
      }
    }, function (err, res) {
      if (err) {
        return deferred.reject(err);
      }

      if (res.ok) {
        deferred.resolve(res.result);
      } else {
        deferred.reject(res);
      }
    });
  } else {
    var files;
    if (options.files.stream) {
      files = {
        type: &#x27;photo&#x27;,
        filename: options.files.filename,
        contentType: options.files.contentType,
        stream: options.files.stream
      }
    } else {
      files = {
       photo: options.files.photo
      }
    }

    this._multipart({
      method: &#x27;sendPhoto&#x27;,
      params: {
        chat_id: options.chat_id,
        caption: options.caption,
        reply_to_message_id: options.reply_to_message_id,
        reply_markup: JSON.stringify(options.reply_markup)
      },
      files: files
    }, function (err, res) {
      if (err) {
        return deferred.reject(err);
      }

      if (res.ok) {
        deferred.resolve(res.result);
      } else {
        deferred.reject(res);
      }
    });
  }

  return deferred.promise.nodeify(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Sending files (including photo, audio, document, video and sticker)

Now only require filepath,

```javascript

bot.<span class="apidocCodeKeywordSpan">sendPhoto</span>({
chat_id: USER_ID,
caption: &#x27;Telegram Logo&#x27;,
files: {
  photo: &#x27;./examples/logo.png&#x27;
}
}, function (err, msg) {
console.log(err);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.sendSticker" id="apidoc.element.node-telegram-bot.Bot.prototype.sendSticker">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendSticker
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendSticker = function (options, callback) {
  var self = this
    , deferred = Q.defer();

  if (options.file_id) {
    this._get({
      method: &#x27;sendSticker&#x27;,
      params: {
        chat_id: options.chat_id,
        sticker: options.file_id,
        reply_to_message_id: options.reply_to_message_id,
        reply_markup: JSON.stringify(options.reply_markup)
      }
    }, function (err, res) {
      if (err) {
        return deferred.reject(err);
      }

      if (res.ok) {
        deferred.resolve(res.result);
      } else {
        deferred.reject(res);
      }
    });
  } else {
    if (mime.lookup(options.files.sticker) !== &#x27;image/webp&#x27;) {
      return Q.reject(new Error(&#x27;Invalid file type&#x27;))
      .nodeify(callback);
    }

    this._multipart({
      method: &#x27;sendSticker&#x27;,
      params: {
        chat_id: options.chat_id,
        reply_to_message_id: options.reply_to_message_id,
        reply_markup: JSON.stringify(options.reply_markup)
      },
      files: {
        sticker: options.files.sticker
      }
    }, function (err, res) {
      if (err) {
        return deferred.reject(err);
      }

      if (res.ok) {
        deferred.resolve(res.result);
      } else {
        deferred.reject(res);
      }
    });
  }

  return deferred.promise.nodeify(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.sendVideo" id="apidoc.element.node-telegram-bot.Bot.prototype.sendVideo">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>sendVideo
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendVideo = function (options, callback) {
  var self = this
    , deferred = Q.defer();

  if (options.file_id) {
    this._get({
      method: &#x27;sendSticker&#x27;,
      params: {
        chat_id: options.chat_id,
        video: options.file_id,
        reply_to_message_id: options.reply_to_message_id,
        reply_markup: JSON.stringify(options.reply_markup)
      }
    }, function (err, res) {
      if (err) {
        return deferred.reject(err);
      }

      if (res.ok) {
        deferred.resolve(res.result);
      } else {
        deferred.reject(res);
      }
    });
  } else {
    var files;
    if (options.files.stream) {
      files = {
        type: &#x27;video&#x27;,
        filename: options.files.filename,
        contentType: options.files.contentType,
        stream: options.files.stream
      }
    } else if (mime.lookup(options.files.video.filename) !== &#x27;video/mp4&#x27;) {
      return Q.reject(new Error(&#x27;Invalid file type&#x27;))
      .nodeify(callback);
    } else {
      files = {
        video: options.files.video
      }
    }

    this._multipart({
      method: &#x27;sendVideo&#x27;,
      params: {
        chat_id: options.chat_id,
        reply_to_message_id: options.reply_to_message_id,
        reply_markup: JSON.stringify(options.reply_markup)
      },
      files: files
    }, function (err, res) {
      if (err) {
        return deferred.reject(err);
      }

      if (res.ok) {
        deferred.resolve(res.result);
      } else {
        deferred.reject(res);
      }
    });
  }

  return deferred.promise.nodeify(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.start" id="apidoc.element.node-telegram-bot.Bot.prototype.start">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>start
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function () {
  var self = this;
  if (self.webhook) {
      self._setWebhook(this.webhook);
  } else if (!self.polling) {
      self.polling = true;
      self._poll();
  }
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var bot = new Bot({
  token: &#x27;TOKEN HERE&#x27;
})
.on(&#x27;message&#x27;, function (message) {
  console.log(message);
})
.<span class="apidocCodeKeywordSpan">start</span>();

```

## How to use Botan.io analytics:
```javascript

var bot = new Bot({
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-telegram-bot.Bot.prototype.stop" id="apidoc.element.node-telegram-bot.Bot.prototype.stop">
        function <span class="apidocSignatureSpan">node-telegram-bot.Bot.prototype.</span>stop
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stop = function () {
  var self = this;
  self.polling = false;
  if (self.pollingRequest) {
      self.pollingRequest.abort();
  }
  return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
